#!/usr/bin/env node

import * as path from 'path';
import * as mca from 'mca-monitoring';

// Remember to load config before using mca monitoring stacks
// If this is not loaded it won't load any stack
mca.loadConfig(path.join(__dirname, 'config.yml'));

// First create CDK app
const app = mca.createApp();

// Setup default monitoring stack with SNS topics (optional)
const stack = mca.setupMonitoringStack(app, '{{ profile }}-monitoring');

// Add Lambda monitoring (optional)
stack.addDefaultLambdaMonitoring();

// Add default DynamoDB monitoring (optional)
stack.addDefaultDynamoDBMonitoring();
